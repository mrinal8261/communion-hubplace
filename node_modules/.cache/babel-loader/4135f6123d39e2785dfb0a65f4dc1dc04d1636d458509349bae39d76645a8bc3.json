{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import EventHeader from\"../components/EventHeader\";import EventList from\"../components/EventList\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventsPage(){const[events,setEvents]=useState([]);const[filteredEvents,setFilteredEvents]=useState([]);const[filter,setFilter]=useState(\"\");// Fetch events from the backend\nuseEffect(()=>{axios.get(\"http://localhost:5000/events\").then(res=>{setEvents(res.data);setFilteredEvents(res.data);// Initialize filtered events\n}).catch(err=>console.error(err));},[]);// Handle event filtering by category\nconst handleFilter=category=>{setFilter(category);if(category===\"\"){setFilteredEvents(events);}else{setFilteredEvents(events.filter(event=>event.category===category));}};// Add a new event\nconst addEvent=newEvent=>{axios.post(\"http://localhost:5000/events\",newEvent).then(()=>{setEvents([...events,newEvent]);if(!filter||filter===newEvent.category){setFilteredEvents([...filteredEvents,newEvent]);}}).catch(err=>console.error(err));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EventHeader,{categories:[\"Religious\",\"Social\",\"Charity\"],onFilter:handleFilter,onAddEvent:addEvent}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"Available Events\"}),/*#__PURE__*/_jsx(EventList,{events:filteredEvents})]})]});}export default EventsPage;","map":{"version":3,"names":["React","useState","useEffect","axios","EventHeader","EventList","jsx","_jsx","jsxs","_jsxs","EventsPage","events","setEvents","filteredEvents","setFilteredEvents","filter","setFilter","get","then","res","data","catch","err","console","error","handleFilter","category","event","addEvent","newEvent","post","children","categories","onFilter","onAddEvent","className"],"sources":["C:/Users/Admin/Downloads/Interview/communion-hub/src/pages/EventsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport EventHeader from \"../components/EventHeader\";\r\nimport EventList from \"../components/EventList\";\r\n\r\nfunction EventsPage() {\r\n    const [events, setEvents] = useState([]);\r\n    const [filteredEvents, setFilteredEvents] = useState([]);\r\n    const [filter, setFilter] = useState(\"\");\r\n\r\n    // Fetch events from the backend\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:5000/events\")\r\n            .then((res) => {\r\n                setEvents(res.data);\r\n                setFilteredEvents(res.data); // Initialize filtered events\r\n            })\r\n            .catch((err) => console.error(err));\r\n    }, []);\r\n\r\n    // Handle event filtering by category\r\n    const handleFilter = (category) => {\r\n        setFilter(category);\r\n        if (category === \"\") {\r\n            setFilteredEvents(events);\r\n        } else {\r\n            setFilteredEvents(events.filter((event) => event.category === category));\r\n        }\r\n    };\r\n\r\n    // Add a new event\r\n    const addEvent = (newEvent) => {\r\n        axios.post(\"http://localhost:5000/events\", newEvent)\r\n            .then(() => {\r\n                setEvents([...events, newEvent]);\r\n                if (!filter || filter === newEvent.category) {\r\n                    setFilteredEvents([...filteredEvents, newEvent]);\r\n                }\r\n            })\r\n            .catch((err) => console.error(err));\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <EventHeader\r\n                categories={[\"Religious\", \"Social\", \"Charity\"]}\r\n                onFilter={handleFilter}\r\n                onAddEvent={addEvent}\r\n            />\r\n\r\n            <div className=\"container py-4\">\r\n                <h2 className=\"mb-4 text-center\">Available Events</h2>\r\n                <EventList events={filteredEvents} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EventsPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,cAAc,CAAEC,iBAAiB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACc,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAExC;AACAC,SAAS,CAAC,IAAM,CACZC,KAAK,CAACc,GAAG,CAAC,8BAA8B,CAAC,CACpCC,IAAI,CAAEC,GAAG,EAAK,CACXP,SAAS,CAACO,GAAG,CAACC,IAAI,CAAC,CACnBN,iBAAiB,CAACK,GAAG,CAACC,IAAI,CAAC,CAAE;AACjC,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CAC3C,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAG,YAAY,CAAIC,QAAQ,EAAK,CAC/BV,SAAS,CAACU,QAAQ,CAAC,CACnB,GAAIA,QAAQ,GAAK,EAAE,CAAE,CACjBZ,iBAAiB,CAACH,MAAM,CAAC,CAC7B,CAAC,IAAM,CACHG,iBAAiB,CAACH,MAAM,CAACI,MAAM,CAAEY,KAAK,EAAKA,KAAK,CAACD,QAAQ,GAAKA,QAAQ,CAAC,CAAC,CAC5E,CACJ,CAAC,CAED;AACA,KAAM,CAAAE,QAAQ,CAAIC,QAAQ,EAAK,CAC3B1B,KAAK,CAAC2B,IAAI,CAAC,8BAA8B,CAAED,QAAQ,CAAC,CAC/CX,IAAI,CAAC,IAAM,CACRN,SAAS,CAAC,CAAC,GAAGD,MAAM,CAAEkB,QAAQ,CAAC,CAAC,CAChC,GAAI,CAACd,MAAM,EAAIA,MAAM,GAAKc,QAAQ,CAACH,QAAQ,CAAE,CACzCZ,iBAAiB,CAAC,CAAC,GAAGD,cAAc,CAAEgB,QAAQ,CAAC,CAAC,CACpD,CACJ,CAAC,CAAC,CACDR,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CAC3C,CAAC,CAED,mBACIb,KAAA,QAAAsB,QAAA,eACIxB,IAAA,CAACH,WAAW,EACR4B,UAAU,CAAE,CAAC,WAAW,CAAE,QAAQ,CAAE,SAAS,CAAE,CAC/CC,QAAQ,CAAER,YAAa,CACvBS,UAAU,CAAEN,QAAS,CACxB,CAAC,cAEFnB,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAJ,QAAA,eAC3BxB,IAAA,OAAI4B,SAAS,CAAC,kBAAkB,CAAAJ,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACtDxB,IAAA,CAACF,SAAS,EAACM,MAAM,CAAEE,cAAe,CAAE,CAAC,EACpC,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}