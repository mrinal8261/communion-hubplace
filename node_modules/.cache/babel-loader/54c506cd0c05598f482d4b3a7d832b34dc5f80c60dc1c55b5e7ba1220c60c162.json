{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import axios from\"axios\";import EventHeader from\"../components/EventHeader\";import EventList from\"../components/EventList\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EventsPage(){const[events,setEvents]=useState([]);const[filteredEvents,setFilteredEvents]=useState([]);const[filter,setFilter]=useState(\"\");// Fetch events from the backend\nuseEffect(()=>{axios.get(\"http://localhost:5000/events\").then(res=>{setEvents(res.data);setFilteredEvents(res.data);// Initialize filtered events\n}).catch(err=>console.error(err));},[]);// Handle event filtering by category\nconst handleFilter=category=>{setFilter(category);if(category===\"\"){setFilteredEvents(events);}else{setFilteredEvents(events.filter(event=>event.category===category));}};// Add a new event\nconst addEvent=newEvent=>{axios.post(\"http://localhost:5000/events\",newEvent).then(()=>{setEvents([...events,newEvent]);if(!filter||filter===newEvent.category){setFilteredEvents([...filteredEvents,newEvent]);}}).catch(err=>console.error(err));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(EventHeader,{categories:[\"Religious\",\"Social\",\"Charity\"],onFilter:handleFilter,onAddEvent:addEvent}),/*#__PURE__*/_jsxs(\"div\",{className:\"container py-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"Available Events\"}),/*#__PURE__*/_jsx(EventList,{events:filteredEvents})]})]});}export default EventsPage;","map":{"version":3,"names":["React","useState","useEffect","axios","EventHeader","EventList","jsx","_jsx","jsxs","_jsxs","EventsPage","events","setEvents","filteredEvents","setFilteredEvents","filter","setFilter","get","then","res","data","catch","err","console","error","handleFilter","category","event","addEvent","newEvent","post","children","categories","onFilter","onAddEvent","className"],"sources":["C:/Users/Admin/Downloads/Interview/communion-hub/src/pages/EventsPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport EventHeader from \"../components/EventHeader\";\nimport EventList from \"../components/EventList\";\n\nfunction EventsPage() {\n    const [events, setEvents] = useState([]);\n    const [filteredEvents, setFilteredEvents] = useState([]);\n    const [filter, setFilter] = useState(\"\");\n\n    // Fetch events from the backend\n    useEffect(() => {\n        axios.get(\"http://localhost:5000/events\")\n            .then((res) => {\n                setEvents(res.data);\n                setFilteredEvents(res.data); // Initialize filtered events\n            })\n            .catch((err) => console.error(err));\n    }, []);\n\n    // Handle event filtering by category\n    const handleFilter = (category) => {\n        setFilter(category);\n        if (category === \"\") {\n            setFilteredEvents(events);\n        } else {\n            setFilteredEvents(events.filter((event) => event.category === category));\n        }\n    };\n\n    // Add a new event\n    const addEvent = (newEvent) => {\n        axios.post(\"http://localhost:5000/events\", newEvent)\n            .then(() => {\n                setEvents([...events, newEvent]);\n                if (!filter || filter === newEvent.category) {\n                    setFilteredEvents([...filteredEvents, newEvent]);\n                }\n            })\n            .catch((err) => console.error(err));\n    };\n\n    return (\n        <div>\n            <EventHeader\n                categories={[\"Religious\", \"Social\", \"Charity\"]}\n                onFilter={handleFilter}\n                onAddEvent={addEvent}\n            />\n\n            <div className=\"container py-4\">\n                <h2 className=\"mb-4 text-center\">Available Events</h2>\n                <EventList events={filteredEvents} />\n            </div>\n        </div>\n    );\n}\n\nexport default EventsPage;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,UAAUA,CAAA,CAAG,CAClB,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACY,cAAc,CAAEC,iBAAiB,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CACxD,KAAM,CAACc,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAExC;AACAC,SAAS,CAAC,IAAM,CACZC,KAAK,CAACc,GAAG,CAAC,8BAA8B,CAAC,CACpCC,IAAI,CAAEC,GAAG,EAAK,CACXP,SAAS,CAACO,GAAG,CAACC,IAAI,CAAC,CACnBN,iBAAiB,CAACK,GAAG,CAACC,IAAI,CAAC,CAAE;AACjC,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CAC3C,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,KAAM,CAAAG,YAAY,CAAIC,QAAQ,EAAK,CAC/BV,SAAS,CAACU,QAAQ,CAAC,CACnB,GAAIA,QAAQ,GAAK,EAAE,CAAE,CACjBZ,iBAAiB,CAACH,MAAM,CAAC,CAC7B,CAAC,IAAM,CACHG,iBAAiB,CAACH,MAAM,CAACI,MAAM,CAAEY,KAAK,EAAKA,KAAK,CAACD,QAAQ,GAAKA,QAAQ,CAAC,CAAC,CAC5E,CACJ,CAAC,CAED;AACA,KAAM,CAAAE,QAAQ,CAAIC,QAAQ,EAAK,CAC3B1B,KAAK,CAAC2B,IAAI,CAAC,8BAA8B,CAAED,QAAQ,CAAC,CAC/CX,IAAI,CAAC,IAAM,CACRN,SAAS,CAAC,CAAC,GAAGD,MAAM,CAAEkB,QAAQ,CAAC,CAAC,CAChC,GAAI,CAACd,MAAM,EAAIA,MAAM,GAAKc,QAAQ,CAACH,QAAQ,CAAE,CACzCZ,iBAAiB,CAAC,CAAC,GAAGD,cAAc,CAAEgB,QAAQ,CAAC,CAAC,CACpD,CACJ,CAAC,CAAC,CACDR,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CAC3C,CAAC,CAED,mBACIb,KAAA,QAAAsB,QAAA,eACIxB,IAAA,CAACH,WAAW,EACR4B,UAAU,CAAE,CAAC,WAAW,CAAE,QAAQ,CAAE,SAAS,CAAE,CAC/CC,QAAQ,CAAER,YAAa,CACvBS,UAAU,CAAEN,QAAS,CACxB,CAAC,cAEFnB,KAAA,QAAK0B,SAAS,CAAC,gBAAgB,CAAAJ,QAAA,eAC3BxB,IAAA,OAAI4B,SAAS,CAAC,kBAAkB,CAAAJ,QAAA,CAAC,kBAAgB,CAAI,CAAC,cACtDxB,IAAA,CAACF,SAAS,EAACM,MAAM,CAAEE,cAAe,CAAE,CAAC,EACpC,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAH,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}